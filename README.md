# MAD Gateway Load Testing

üìà **–ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è MAD Gateway**  
–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑—É–µ—Ç —Å—Ü–µ–Ω–∞—Ä–∏–∏ –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã MAD (Mobile Athletic Development) —á–µ—Ä–µ–∑ API Gateway, –∏—Å–ø–æ–ª—å–∑—É—è [Locust](https://locust.io/).

---

## üîß –°—Ç–µ–∫

- **Locust** ‚Äî –¥–ª—è —ç–º—É–ª—è—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏.
- **Python 3.10+** –∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (`venv`)
- **Gradle** ‚Äî –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤ —á–µ—Ä–µ–∑ —Ç–∞—Å–∫–∏
- **JWT** ‚Äî –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ —Ç–æ–∫–µ–Ω—ã
- **Ktor API Gateway** ‚Äî —Ü–µ–ª–µ–≤–æ–π —Å–µ—Ä–≤–∏—Å

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

–°–æ–∑–¥–∞–π –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ Python:

```bash
python -m venv .venv
source .venv/bin/activate  # –∏–ª–∏ .venv\Scripts\activate –Ω–∞ Windows
pip install -r requirements.txt
pip install pyjwt

–£–∫–∞–∂–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
–°–æ–∑–¥–∞–π .env —Ñ–∞–π–ª (–∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π ENV –≤ —Å–∏—Å—Ç–µ–º–µ):

env
JWT_SECRET=development_secret_key
JWT_ISSUER=com.mad.gateway
JWT_AUDIENCE=mad-mobile-app


–ó–∞–ø—É—Å–∫ –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞
–ß–µ—Ä–µ–∑ Gradle
bash
./gradlew runLocustTest
–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:

–ö–æ–ª-–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: 10000

–°–∫–æ—Ä–æ—Å—Ç—å –∑–∞–ø—É—Å–∫–∞: 100 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π/—Å–µ–∫

–•–æ—Å—Ç: http://188.225.77.13



–°—Ü–µ–Ω–∞—Ä–∏–∏, –ø–æ–∫—Ä—ã—Ç—ã–µ –≤ Locust
Locust –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –∫ —Å–ª–µ–¥—É—é—â–∏–º API:

/api/auth/register ‚Äî —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

/api/auth/login ‚Äî –≤—Ö–æ–¥

/api/profiles/me ‚Äî –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å

/api/notebook/notes ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–º–µ—Ç–∫–∏

/api/training/workouts ‚Äî —Å–ø–∏—Å–æ–∫ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫

/api/feed/posts ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Å—Ç–∞

/api/diet/foods ‚Äî —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–¥—É–∫—Ç–æ–≤

/api/statistics/calories ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ –∫–∞–ª–æ—Ä–∏–π

/api/db/read ‚Äî –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π SQL-–∑–∞–ø—Ä–æ—Å

üõ† –°–æ–≤–µ—Ç—ã
–£–±–µ–¥–∏—Å—å, —á—Ç–æ Auth-—Å–µ—Ä–≤–∏—Å –¥–æ—Å—Ç—É–ø–µ–Ω –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º, –∏–Ω–∞—á–µ login/register –≤—ã–∑–æ–≤—É—Ç –æ—à–∏–±–∫–∏.

–ò—Å–ø–æ–ª—å–∑—É–π curl –∏–ª–∏ Postman –¥–ª—è —Ä—É—á–Ω–æ–π –æ—Ç–ª–∞–¥–∫–∏ –æ—à–∏–±–æ–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏).

–õ–æ–≥–∏ –¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ gateway.log, –µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ.